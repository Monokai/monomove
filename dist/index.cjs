Object.defineProperty(exports,'t',{value:!0});var t=require('./chunks/TweenManager.cjs');const s=window,i=void 0!==s,h=[];let e=!1,n=0,o=0,r=0,l=0,c=0,u=0,a=!1,f=!1,_=0,d=!0;const p=()=>{if(!i)return;const u=s.performance.now();r=u-c,d?(o=0,d=!1):o=r-l,o<0&&(o=0);const m=t.TweenManager.onTick(r),g=h.length;let b=0;e=!0;for(let t=0;t<g;t++){const s=h[t];null!==s&&!1!==s(o)&&b++}e=!1,n<h.length&&(()=>{let t=0;const s=h.length;for(let i=0;i<s;i++){const s=h[i];null!==s&&(i!==t&&(h[t]=s),t++)}h.length=t,n=t})(),l=r,a&&(b>0||m)?(_=s.requestAnimationFrame(p),f=!0):f=!1},m={stop:t=>{a=!1,i&&s.cancelAnimationFrame(_),f=!1,t&&t()},add:t=>{h.push(t),n++,m.trigger()},reset:()=>{h.length=0,n=0,t.TweenManager.removeAll(),m.stop(),o=0,r=0,l=0,c=0,u=0,a=!1,f=!1,_=0,d=!0},remove:t=>{const s=h.indexOf(t);-1!==s&&(e?(h[s]=null,n--):(h.splice(s,1),n--)),m.trigger()},trigger:()=>{i&&!f&&(d||(l=m.getTime()),f=!0,_=s.requestAnimationFrame(p))},getTime:()=>i?s.performance.now()-c:0,pause:()=>{a&&i&&(u=s.performance.now(),f=!1,a=!1,s.cancelAnimationFrame(_))},play:()=>{!a&&i&&(d||(c+=s.performance.now()-u),m.triggerAnimation())},triggerAnimation:()=>{a=!0,m.trigger()},isPlaying:()=>a};class g{durationMS;isPlaying;delayTime;startTime;easingFunction;progress;totalTime;onTimelineInCallback=null;onTimelineOutCallback=null;onTimelineVisibleCallback=null;onTimelineInvisibleCallback=null;isTimelineIn=!1;isPreviousTimelineIn=!1;isTimelineVisible=!1;isPreviousTimelineVisible=!1;i;h;o;l;u;_;p;m;v;T;S;C;k;I;V;M;O;D;F=!1;constructor(t,s=1){this.durationMS=1e3*s,this.O=this.durationMS>0?1/this.durationMS:0,this.easingFunction=t=>t,this.progress=0,this.delayTime=0,this.isPlaying=!1,this.startTime=null,this.S=0,this.C=0,this.o=null,this.l=null,this.u=null,this.k=!1,this.I=null,this.V=0,this.M=null,this.p={},this.m=[],this.v=[],this.T=[],this.F=!1,void 0===t?(this.D=!0,this.i=0,this.h=null,this.p.value=0,this._={value:1}):'function'==typeof t?(this.D=!0,this.i=0,this.h=t,this.p.value=0,this._={value:1}):(this.D=!1,this.i=t,this.h=null,this._={})}from(t){if('object'==typeof t&&null!==t&&this.D&&null===this.h&&0===this.i&&(this.D=!1,this.i={},this.p={},this._={}),'number'==typeof t)this.p.value=t;else if(this.D){const s=t,i=Object.keys(s);for(const t of i){const i=s[t];'number'==typeof i&&(this.p[t]=i)}}else{const s=t;for(const t in s){const i=s[t];'number'==typeof i&&(this.p[t]=i)}}return this.F=!1,this}to(t,s){return void 0!==s&&(this.durationMS=1e3*s,this.O=this.durationMS>0?1/this.durationMS:0),'object'==typeof t&&null!==t&&this.D&&null===this.h&&0===this.i&&(this.D=!1,this.i={},this.p={},this._={}),'number'==typeof t?this._.value=t:this._={...this._,...t},this.F=!1,this}duration(t){return this.durationMS=1e3*t,this.O=this.durationMS>0?1/this.durationMS:0,this}rewind(){return this.stop(),this.progress=0,this.V=0,this.M=null,this.F&&this.setProgress(0),this}restart(){return this.rewind(),this.start()}loop(t=1/0){return this.S=t,this.C=t,this}onLoop(t){return this.o=t,this}delay(t){return this.delayTime=1e3*t,this}easing(s=(t=>t),i){if(!s)return this;if('string'==typeof s){const h=t.TweenManager.getEasingFromCache(s);i&&t.TweenManager.setEasingOptions(h,i),this.easingFunction=h.get.bind(h)}else if('object'==typeof s&&null!==s&&'get'in s){const h=s;i&&t.TweenManager.setEasingOptions(h,i),this.easingFunction=h.get.bind(h)}else this.easingFunction=s;return this}onUpdate(t){return this.h=t,this}onStart(t){return this.u=t,this}onComplete(t){return this.l=t,this}onTimelineIn(t){return this.onTimelineInCallback=()=>t(this.i),this}onTimelineOut(t){return this.onTimelineOutCallback=()=>t(this.i),this}onTimelineVisible(t){return this.onTimelineVisibleCallback=()=>t(this.i),this}onTimelineInvisible(t){return this.onTimelineInvisibleCallback=()=>t(this.i),this}start(t){const s=this.l;return new Promise(i=>{this.l=t=>{s?.(t),this.l=s,i(this)},this.startTween(t)})}startTween(s=m.getTime()){const i=this.isPlaying;return this.V=0,this.k=!1,this.isPlaying=!0,this.startTime=s+this.delayTime,0===this.durationMS&&0===this.S&&0===this.delayTime?(this.update(s),this.isPlaying=!1):i||(t.TweenManager.add(this),m.triggerAnimation()),this}stop(){return this.isPlaying?(this.isPlaying=!1,t.TweenManager.remove(this),this):this}P(){if(this.F)return;this.m.length=0,this.v.length=0,this.T.length=0;const t=this.i;if(this.D){const t=this.p.value??0,s=this._.value??1;this.m.push('value'),this.v.push(t),this.T.push(s-t)}else if(t){const s=this._;for(const i in s){const h=s[i];if(void 0===h)continue;let e;if(void 0!==this.p[i])e=this.p[i];else{const s=t[i];e='number'==typeof s?s:0}this.m.push(i),this.v.push(e),this.T.push(h-e)}}this.F=!0}updateAllValues(t=0){if(this.F||this.P(),this.D)return void(this.v.length>0&&this.h&&this.h(this.v[0]+this.T[0]*this.progress,this.progress,t));const s=this.m.length,i=this.m,h=this.v,e=this.T,n=this.i;for(let t=0;t<s;t++)n[i[t]]=h[t]+e[t]*this.progress;this.h&&this.i&&this.h(this.i,this.progress,t)}setProgress(t,s=!1){this.F||this.P();const i=t<0?0:t>1?1:t;!s&&null!==this.M&&Math.abs(i-this.M)<1e-6||(this.progress=this.easingFunction(i),this.updateAllValues(),this.M=i)}invalidate(){this.M=null,this.F=!1}update(t){if(null===this.startTime||t<this.startTime)return!0;this.F||this.P(),!1===this.k&&(this.u?.(this.i),this.k=!0,m.trigger()),this.V=t-this.startTime;const s=0===this.durationMS?1:this.V*this.O,i=s>1?1:s;this.progress=this.easingFunction(i),null===this.I&&(this.I=t);const h=t-this.I;if(this.I=t,this.updateAllValues(h),1===i){const i=this.startTime;return 0===this.durationMS?(this.isPlaying&&this.l?.(this.i),this.isPlaying=!1,!1):this.C>0?(this.o?.(this.i,this.S-this.C),this.C--,this.startTime+=this.durationMS,this.V=t-this.startTime,!0):(this.isPlaying&&this.l?.(this.i),this.isPlaying=i!==this.startTime||this.isPlaying&&s<1,this.isPlaying)}return!0}}function b(t,s,i=Number.MAX_VALUE){return t<s?s:t>i?i:t}function v(t,s){t.isTimelineVisible=s,t.isTimelineVisible!==t.isPreviousTimelineVisible&&(s?t.onTimelineVisibleCallback?.():t.onTimelineInvisibleCallback?.(),t.isPreviousTimelineVisible=t.isTimelineVisible)}class w{time=0;totalTime=0;isPlaying=!1;j=[];A;C=0;L;N;U=!0;H=null;R='linear';W=1;constructor({delay:t=0,onComplete:s,onLoop:i}={}){this.A=1e3*t,this.L=s,this.N=i}add(t,s=0){return this.B(t,Math.max(0,(this.j.length>0?this.j[this.j.length-1].endTime:0)+1e3*s)),this}at(t,s){return this.B(s,1e3*t),this}B(t,s){const i=void 0!==t.totalTime?t.totalTime:t.durationMS;this.j.push({tween:t,startTime:s,endTime:s+i,duration:i}),this.totalTime=Math.max(this.totalTime,s+i),this.U=!0}delay(t){return this.A=1e3*t,this}loop(t=1/0){return this.C=t,this}easing(t){return this.R=t,this}timeScale(t){return this.W=t,this.H&&this.isPlaying&&this.stop().start(),this}async start(){this.U&&this.Y(),this.stop(),this.isPlaying=!0;const t=this.W<0,s=t?this.totalTime:0,i=t?0:this.totalTime;return this.H=new g,this.H.from(s).to(i).duration(this.totalTime/1e3/Math.abs(this.W)).onUpdate(t=>{this.time=t,this.$(this.time,!1)}).easing(this.R).delay(this.A/1e3).loop(this.C).onLoop(()=>{this.N?.(),this.$(t?this.totalTime:0,!0)}).onComplete(()=>{this.isPlaying=!1,this.L?.()}).start().then(()=>this)}pause(){return this.isPlaying=!1,this.H?.stop(),this}stop(){return this.pause(),this.H=null,this.time=this.W<0?this.totalTime:0,this.$(this.time,!0),this}setPosition(t,s=!1){this.isPlaying&&this.pause(),this.U&&this.Y(),this.time=b(t,0,this.totalTime),this.$(this.time,s)}setProgress(t){this.setPosition(b(t,0,1)*this.totalTime)}Y(){this.j.sort((t,s)=>t.startTime-s.startTime),this.U=!1}$(t,s){const i=this.j.length;for(let h=i-1;h>=0;h--){const i=this.j[h];if(t<i.startTime){const t=i.tween;(t.progress>0||t.isTimelineVisible||s)&&(t.setProgress(0,!0),s&&t.invalidate(),v(t,!1))}}for(let h=0;h<i;h++){const i=this.j[h],{tween:e,startTime:n,endTime:o,duration:r}=i;if(t<n)continue;if(t>=o){if(1!==e.progress||s){const t=e.progress;e.setProgress(1,!0),v(e,!0),t<1&&1===e.progress&&e.onTimelineOutCallback?.()}continue}const l=e.progress;e.setProgress(0===r?1:(t-n)/r,!0),v(e,!0),0===l&&e.progress>0&&e.onTimelineInCallback?.(),l<1&&1===e.progress&&e.onTimelineOutCallback?.()}}}const T=window;class S{element;smoothing;observer;q;K;G=!1;J=!1;X=!1;Z=NaN;tt;st;it;ht;et;nt;ot;rt;lt;constructor(t,s,i,h,e=null){this.element=t,this.observer=e,this.tt=i.directionOffset||0,this.st=i.offset||0,this.it=i.speed||1,this.smoothing=i.smoothing||0,h?this.ht=h:i.onUpdate&&(this.ht=i.onUpdate),this.et=i.onScrolledIn,this.nt=i.onScrolledOut,this.ot=i.onScrolledInOnce,this.rt=i.onScrolledOutOnce,this.q={left:0,top:0,width:0,height:0},this.K={item:t,factor:0,rawFactor:0,rawBoxFactor:0,boxFactor:0,box:this.q,scroll:0,smoothScrollValue:0,isInView:!1,boxIsInView:!1,index:s,originalTop:0,isVisible:!0,data:i.data}}setVisible(t){this.K.isVisible=t}get isVisible(){return this.K.isVisible}getData(){return this.K}resize(t,s){const i=this.element.getBoundingClientRect();this.q.left=i.left+(T.scrollX||T.pageXOffset),this.q.top=i.top+t,this.q.width=i.width,this.q.height=i.height,this.K.originalTop=this.q.top}update(t,s,i,h=!1,e=16.6){const n=this.q;if(0===n.height)return;this.K.scroll=t,this.K.smoothScrollValue=this.smoothing&&this.lt?this.lt(t,60*e/1e3,this.smoothing):t;const o=n.top+n.height-this.K.smoothScrollValue+this.tt*(i?-1:1)*s+this.st*s,r=(o-s)/n.height,l=this.it;this.K.rawFactor=(1-o/(s+n.height)-.5)*l+.5,this.K.rawBoxFactor=(1-r-.5)*l+.5,this.K.factor=this.K.rawFactor<0?0:this.K.rawFactor>1?1:this.K.rawFactor,this.K.boxFactor=this.K.rawBoxFactor<0?0:this.K.rawBoxFactor>1?1:this.K.rawBoxFactor,this.K.isInView=this.K.rawFactor>=0&&this.K.rawFactor<=1,this.K.boxIsInView=this.K.rawBoxFactor>=0&&this.K.rawBoxFactor<=1,this.K.isInView!==this.X&&(this.K.isInView?(this.smoothing&&(this.lt=((t=0)=>(s,i=0,h=.95)=>s+(t-s)*h**i)(t)),this.et?.(this.K),this.G||(this.G=!0,this.ot?.(this.K))):(this.nt?.(this.K),this.lt=void 0,this.J||(this.J=!0,this.rt?.(this.K))),this.X=this.K.isInView),this.ht&&(this.Z!==this.K.factor||h)&&(this.ht(this.K),this.Z=this.K.factor)}}const y=window;let x=!1;if(void 0!==y)try{const t=Object.defineProperty({},'passive',{get:()=>(x=!0,!0)});y.addEventListener('test',()=>{},t),y.removeEventListener('test',()=>{},t)}catch{}const C=!!x&&{passive:!0};class k{isDown=!1;isLocked=!1;scroll=0;scrollWidth=0;scrollHeight=0;ct=1;ut=.01;ft=0;_t=0;dt=0;j=[];gt=new Set;bt=new Set;vt=null;wt=null;Tt=!1;St=0;yt=0;xt=!0;Ct=!1;kt=new g({y:0}).easing('0.35,0.15,0,1').onUpdate(t=>{y.scrollTo(0,t.y),this.Tt=!0,this.scroll=t.y,this.ft=t.y,this.isDown=this.ft>=this._t,this._t=this.ft});It=0;Vt=0;Mt;Ot;Dt;Ft=!1;Pt=null;jt=0;At=0;R;Lt;zt=this.Et.bind(this);Nt=()=>{this.isLocked||(this.Ct=!0)};Ut=t=>{t.stopPropagation(),this.isLocked||(this.Ct=!1)};Ht=()=>{this.isLocked||(this.kt.stop(),this.Ct=!1)};Rt=()=>{if(this.isLocked)return;this.Tt=!0;const t=Math.max(0,this.scrollHeight-this.dt),s=this.Lt();this.ft=s<0?0:s>t?t:s,this.At=this.scroll,this.jt=0};constructor({container:t=y.document.body,content:s=y.document.body,easing:i=(t=>Math.min(1,1.001-2**(-10*t))),scrollDuration:h=0,listener:e=window,debug:n=!1,onResize:o}={}){if(this.Vt=h||0,this.Mt=t,this.Ot=s,this.Dt=e,this.Ft=n,this.R=i,this.Pt=o||null,'scrollY'in this.Dt)this.Lt=()=>this.Dt.scrollY;else if('pageYOffset'in this.Dt)this.Lt=()=>this.Dt.pageYOffset;else{const t=this.Dt;this.Lt=()=>t.scrollTop}this.Wt(),this.Bt(),m.add(this.zt),m.play(),this.resize()}Wt(){if(!this.Dt)return;const t=C,s=this.Dt;s.addEventListener('touchstart',this.Nt,t),s.addEventListener('scroll',this.Rt,t),s.addEventListener('mousedown',this.Ut,t),s.addEventListener('wheel',this.Ht,t)}Bt(){this.Ft&&this.Mt&&(this.vt=document.createElement('canvas'),this.Mt.appendChild(this.vt))}Et(t){if(this.isLocked)return!0;const s=this.Ot.scrollWidth,i=this.Ot.scrollHeight;if(s!==this.scrollWidth||i!==this.scrollHeight)return this.scrollWidth=s,this.scrollHeight=i,s===this.St&&i===this.yt||this.resize(),this.St=s,this.yt=i,this.scroll=this.At=this.ft,this.Yt(this.scroll,t),!0;if(this.bt.size>0)for(const s of this.bt){if(this.gt.has(s)&&this.Tt)continue;const i=s.getData();Math.abs(i.smoothScrollValue-this.scroll)>this.ut&&s.update(this.scroll,this.dt,this.isDown,!1,t)}if(!this.Tt){const t=this.Lt();Math.abs(t-this.scroll)>1&&(this.Tt=!0,this.ft=t,this.At=this.scroll,this.jt=0)}if(!this.Tt)return!0;if(Math.abs(this.ft-this.scroll)<this.ut)return this.scroll=this.ft,this.Yt(this.scroll,t),this.Ct&&this.triggerAnimations(!0),this.Tt=!1,!0;this.jt+=t/1e3;const h=this.Ct?this.It:this.Vt,e=0===h?1:b(this.jt/h,0,1),n=this.R(e);if(this.scroll=this.At+(this.ft-this.At)*n,this.xt){this.xt=!1,this.scroll=this.At=this.ft;const t=this.isDown;this.isDown=!0,this.triggerAnimations(!0),this.isDown=!1,this.triggerAnimations(!0),this.isDown=t}return this.Yt(this.scroll,t),!0}Yt(t,s=16.6){if(this.isDown=t>=this._t,this._t=t,this.gt.size>0)for(const t of this.gt)t.update(this.scroll,this.dt,this.isDown,!1,s);this.wt&&this.$t()}draw(){this.Yt(this.scroll)}drawAll(){for(const t of this.j)t.update(this.scroll,this.dt,this.isDown,!0)}getScrollPosition(){return this.Lt()}resize(){if(!this.Mt||!this.Ot)return;this.scroll=this.At=this._t=this.ft,this.scrollHeight=this.Ot.scrollHeight,this.dt=y.innerHeight,this.ct=y.devicePixelRatio;const t=y.scrollY||y.pageYOffset;for(let s=0;s<this.j.length;s++)this.j[s].resize(t,this.dt);if(this.vt){const t=y.innerWidth,s=y.innerHeight,i=this.ct;this.vt.width=t*i,this.vt.height=s*i,Object.assign(this.vt.style,{position:'fixed',left:'0',top:'0',width:t+'px',height:s+'px',pointerEvents:'none',zIndex:'9999999'}),this.wt=this.vt.getContext('2d')}this.Pt&&this.Pt(),this.qt()}triggerAnimations(t=!1){if(t){const t=this.j.length;for(let s=0;s<t;s++)this.j[s].update(this.scroll,this.dt,this.isDown,!0)}else for(const t of this.gt)t.update(this.scroll,this.dt,this.isDown,!0);this.wt&&this.$t()}$t(){if(!this.wt||!this.vt)return;const t=this.wt;t.clearRect(0,0,this.vt.width,this.vt.height),t.strokeStyle='#f00',t.lineWidth=2*this.ct,t.beginPath();const s=this.ct,i=this.dt;for(const h of this.gt){const e=h.getData(),n=e.box.top-e.scroll;n+e.box.height>=0&&n<=i&&t.rect(e.box.left*s,n*s,e.box.width*s,e.box.height*s)}t.stroke()}add(t,s,i={}){const h=Array.isArray(t)?t:[t];let e,n;'function'==typeof s?(e=s,n=i):(n=s||{},e=void 0);const o=n.directionOffset||0,r=n.offset||0,l=n.speed||1;let c=null;y.IntersectionObserver&&(c=new y.IntersectionObserver(t=>{for(const s of t){const t=s.target,i=this.j.find(s=>s.element===t);if(i){const t=s.isIntersecting;i.setVisible(t),t&&!i.smoothing?this.gt.add(i):t||i.smoothing||this.gt.delete(i),i.update(this.scroll,this.dt,this.isDown)}}},{root:void 0===n.observeIn?null:n.observeIn,rootMargin:`${o?100*o:1/l*100}% 0% ${o?100*o:r?100*r:1/l*100}% 0%`,threshold:0}));const u=y.scrollY||y.pageYOffset;for(let t=0;t<h.length;t++){const s=h[t],i=new S(s,t,n,e,c);i.resize(u,this.dt),c?(c.observe(s),i.setVisible(!1)):(this.gt.add(i),i.update(this.scroll,this.dt,this.isDown,!0)),i.smoothing&&this.bt.add(i),this.j.push(i)}}qt(){this.gt.clear(),this.bt.clear();for(const t of this.j)t.smoothing&&this.bt.add(t),t.isVisible&&!t.smoothing&&this.gt.add(t)}remove(t){const s=new Set(Array.isArray(t)?t:[t]),i=[];for(const t of this.j)s.has(t.element)?(t.observer?.unobserve(t.element),this.gt.delete(t),this.bt.delete(t)):i.push(t);this.j=i}getBox(t){const s=t.getBoundingClientRect();return{left:s.left+(y.scrollX||y.pageXOffset),top:s.top+(y.scrollY||y.pageYOffset),width:s.width,height:s.height}}scrollTo(t=0,s=null){const i=s??b(25e-5*Math.abs(t-this.scroll),.25,2.5);return this.kt.from({y:this.scroll}).to({y:t},i).start()}scrollToElement(t,s=0,i=null){const h=this.getBox(t);return this.scrollTo(h.top+s,i)}reset(){for(const t of this.j)t.observer?.unobserve(t.element);this.j.length=0,this.gt.clear(),this.bt.clear(),this.dt=0}stop(){this.Tt=!1,this.kt.stop()}lock(){this.isLocked=!0}unlock(){this.isLocked=!1,y.scrollTo(0,this.scroll)}setContent(t){this.Ot=t,this.resize()}unsetContent(){this.Ot=null}setScrollDuration(t){this.Vt=t}setTouchScrollDuration(t){this.It=t}destroy(){if(this.vt?.remove(),this.Dt){const t=this.Dt,s=C;t.removeEventListener('touchstart',this.Nt,s),t.removeEventListener('wheel',this.Ht,s),t.removeEventListener('mousedown',this.Ut,s),t.removeEventListener('scroll',this.Rt,s)}this.reset(),this.stop(),m.remove(this.zt)}}
/**
 * @license
 * Monomove - utilities for moving things
 *
 * Copyright © 2021-2025 Monokai (monokai.com)
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the “Software”), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 */function I(t,s=1){return new g(t,s)}exports.CubicBezier=t.CubicBezier,exports.TweenManager=t.TweenManager,exports.RenderLoop=m,exports.SmoothScroller=k,exports.Timeline=w,exports.Tween=g,exports.animate=(t,s,i=1,h='linear')=>I(t,i).to(s).easing(h).start(),exports.delay=t=>I().duration(t).start(),exports.smoothScroll=(t,s,i={},h={})=>{const e=new k(h);return e.add(t,s,i),e},exports.timeline=t=>new w(t),exports.tween=I;
